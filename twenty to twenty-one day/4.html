<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
    <button id="fade-btn">淡出</button>
  </body>
  <script>
    let btn = document.getElementById('fade-btn')
    let obj = document.getElementById('fade-obj')
    obj.style.opacity = 1
    btn.addEventListener('click', function () {
      btn.disabled = true
      point0 = btn.innerHTML === '淡出' ? 1 : 0
      let point = point0
      let timeId = setInterval(() => {
        point = point0 ? point - 0.01 : point + 0.01
        obj.style.opacity = point
        if (point >= 1 || point <= 0) {
          clearInterval(timeId)
          btn.innerHTML = point0 ? '淡入' : '淡出'
          btn.disabled = false
        }
      }, 20)
    })
  </script>
</html>